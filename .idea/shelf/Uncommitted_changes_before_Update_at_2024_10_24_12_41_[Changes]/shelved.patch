Index: club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/mapper/SubjectCategoryDao.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.infra.basic.mapper;\r\n\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\nimport org.apache.ibatis.annotations.Param;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * 题目分类(SubjectCategory)表数据库访问层\r\n *\r\n * @author makejava\r\n * @since 2024-10-16 11:04:19\r\n */\r\npublic interface SubjectCategoryDao {\r\n\r\n    /**\r\n     * 通过ID查询单条数据\r\n     *\r\n     * @param id 主键\r\n     * @return 实例对象\r\n     */\r\n    SubjectCategory queryById(Long id);\r\n\r\n\r\n    /**\r\n     * 统计总行数\r\n     *\r\n     * @param subjectCategory 查询条件\r\n     * @return 总行数\r\n     */\r\n    long count(SubjectCategory subjectCategory);\r\n\r\n    /**\r\n     * 新增数据\r\n     *\r\n     * @param subjectCategory 实例对象\r\n     * @return 影响行数\r\n     */\r\n    int insert(SubjectCategory subjectCategory);\r\n\r\n    /**\r\n     * 批量新增数据（MyBatis原生foreach方法）\r\n     *\r\n     * @param entities List<SubjectCategory> 实例对象列表\r\n     * @return 影响行数\r\n     */\r\n    int insertBatch(@Param(\"entities\") List<SubjectCategory> entities);\r\n\r\n    /**\r\n     * 批量新增或按主键更新数据（MyBatis原生foreach方法）\r\n     *\r\n     * @param entities List<SubjectCategory> 实例对象列表\r\n     * @return 影响行数\r\n     * @throws org.springframework.jdbc.BadSqlGrammarException 入参是空List的时候会抛SQL语句错误的异常，请自行校验入参\r\n     */\r\n    int insertOrUpdateBatch(@Param(\"entities\") List<SubjectCategory> entities);\r\n\r\n    /**\r\n     * 修改数据\r\n     *\r\n     * @param subjectCategory 实例对象\r\n     * @return 影响行数\r\n     */\r\n    int update(SubjectCategory subjectCategory);\r\n\r\n    /**\r\n     * 通过主键删除数据\r\n     *\r\n     * @param id 主键\r\n     * @return 影响行数\r\n     */\r\n    int deleteById(Long id);\r\n\r\n\r\n    List<SubjectCategory> queryCategory(SubjectCategory subjectCategory);\r\n\r\n\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/mapper/SubjectCategoryDao.java b/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/mapper/SubjectCategoryDao.java
--- a/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/mapper/SubjectCategoryDao.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/mapper/SubjectCategoryDao.java	(date 1729678496112)
@@ -71,6 +71,8 @@
      */
     int deleteById(Long id);
 
+    int delete(SubjectCategory subjectCategory);
+
 
     List<SubjectCategory> queryCategory(SubjectCategory subjectCategory);
 
Index: club-subject/club-application/club-application-controller/src/main/java/edu/cugb/subject/application/controller/SubjectCategoryController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.application.controller;\r\n\r\nimport com.alibaba.fastjson.JSON;\r\nimport com.baomidou.mybatisplus.core.toolkit.StringUtils;\r\nimport com.baomidou.mybatisplus.extension.api.R;\r\nimport com.google.common.base.Preconditions;\r\nimport edu.cugb.subject.application.convert.SubjectCategoryDTOConverter;\r\nimport edu.cugb.subject.application.dto.SubjectCategoryDTO;\r\nimport edu.cugb.subject.common.entity.Result;\r\nimport edu.cugb.subject.domain.entity.SubjectCategoryBO;\r\nimport edu.cugb.subject.domain.service.SubjectCategoryDomainService;\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n/**\r\n * @Author pengjia\r\n * @Data 2024/10/17 15:47\r\n * @Description: 刷题分类Controller\r\n */\r\n@RestController\r\n@RequestMapping(\"/subject/category\")\r\n@Slf4j\r\npublic class SubjectCategoryController {\r\n    @Resource\r\n    private SubjectCategoryDomainService subjectCategoryDomainService;\r\n\r\n    @PostMapping(\"/add\")\r\n    public Result<Boolean> add(@RequestBody SubjectCategoryDTO subjectCategoryDTO) {\r\n        try {\r\n            if (log.isInfoEnabled()) {\r\n                log.info(\"SubjectCategoryController.add.dto:{}\", JSON.toJSONString(subjectCategoryDTO));\r\n            }\r\n            //校验\r\n            Preconditions.checkNotNull(subjectCategoryDTO.getCategoryType(), \"分类类型不能为空\");\r\n            Preconditions.checkArgument(!StringUtils.isBlank(subjectCategoryDTO.getCategoryName()), \"分类名称不能为空\");\r\n            Preconditions.checkNotNull(subjectCategoryDTO.getParentId(), \"分类父级id不能为空\");\r\n            SubjectCategoryBO subjectCategoryBO = SubjectCategoryDTOConverter.INSTANCE.convertBOToCategory(subjectCategoryDTO);\r\n            subjectCategoryDomainService.add(subjectCategoryBO);\r\n            return Result.ok(true);\r\n        } catch (Exception e) {\r\n            log.error(\"SubjectCategoryController.add.error:{}\", e.getMessage(), e);\r\n            return Result.fail(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @PostMapping(\"/queryPrimaryCategory\")\r\n    public Result<List<SubjectCategoryDTO>> queryPrimaryCategory() {\r\n        try {\r\n            SubjectCategoryBO subjectCategoryBO = new SubjectCategoryBO();\r\n            List<SubjectCategoryBO> subjectCategoryBOList = subjectCategoryDomainService.queryCategory(subjectCategoryBO);\r\n            List<SubjectCategoryDTO> subjectCategoryDTOList = SubjectCategoryDTOConverter.INSTANCE\r\n                    .convertBOToDTOList(subjectCategoryBOList);\r\n            return Result.ok(subjectCategoryDTOList);\r\n        } catch (Exception e) {\r\n            log.error(\"SubjectCategoryController.queryPrimaryCategory.error:{}\", e.getMessage(), e);\r\n            return Result.fail(\"查询失败\");\r\n        }\r\n\r\n    }\r\n\r\n    @PostMapping(\"/queryCategoryByPrimary\")\r\n    public Result<List<SubjectCategoryDTO>> queryPrimaryCategory(@RequestBody SubjectCategoryDTO subjectCategoryDTO) {\r\n        try {\r\n            if (log.isInfoEnabled()) {\r\n                log.info(\"SubjectCategoryController.queryCategoryByPrimary.dto:{}\", JSON.toJSONString(subjectCategoryDTO));\r\n            }\r\n            Preconditions.checkNotNull(subjectCategoryDTO.getParentId(), \"分类Id不能为空\");\r\n            SubjectCategoryBO subjectCategoryBO = SubjectCategoryDTOConverter.INSTANCE\r\n                    .convertDTOToBO(subjectCategoryDTO);\r\n            List<SubjectCategoryBO> subjectCategoryBOList = subjectCategoryDomainService.queryCategory(subjectCategoryBO);\r\n            List<SubjectCategoryDTO> subjectCategoryDTOList = SubjectCategoryDTOConverter.INSTANCE\r\n                    .convertBOToDTOList(subjectCategoryBOList);\r\n            return Result.ok(subjectCategoryDTOList);\r\n        } catch (Exception e) {\r\n            log.error(\"SubjectCategoryController.queryPrimaryCategory.error:{}\", e.getMessage(), e);\r\n            return Result.fail(\"查询失败\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-application/club-application-controller/src/main/java/edu/cugb/subject/application/controller/SubjectCategoryController.java b/club-subject/club-application/club-application-controller/src/main/java/edu/cugb/subject/application/controller/SubjectCategoryController.java
--- a/club-subject/club-application/club-application-controller/src/main/java/edu/cugb/subject/application/controller/SubjectCategoryController.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-application/club-application-controller/src/main/java/edu/cugb/subject/application/controller/SubjectCategoryController.java	(date 1729692043485)
@@ -49,10 +49,15 @@
         }
     }
 
+    /**
+     * 查询大类
+     *
+     * @return
+     */
     @PostMapping("/queryPrimaryCategory")
-    public Result<List<SubjectCategoryDTO>> queryPrimaryCategory() {
+    public Result<List<SubjectCategoryDTO>> queryPrimaryCategory(@RequestBody SubjectCategoryDTO subjectCategoryDTO ) {
         try {
-            SubjectCategoryBO subjectCategoryBO = new SubjectCategoryBO();
+            SubjectCategoryBO subjectCategoryBO = SubjectCategoryDTOConverter.INSTANCE.convertDTOToBO(subjectCategoryDTO);
             List<SubjectCategoryBO> subjectCategoryBOList = subjectCategoryDomainService.queryCategory(subjectCategoryBO);
             List<SubjectCategoryDTO> subjectCategoryDTOList = SubjectCategoryDTOConverter.INSTANCE
                     .convertBOToDTOList(subjectCategoryBOList);
@@ -64,8 +69,14 @@
 
     }
 
+    /**
+     * 查询大类下分类
+     *
+     * @param subjectCategoryDTO
+     * @return
+     */
     @PostMapping("/queryCategoryByPrimary")
-    public Result<List<SubjectCategoryDTO>> queryPrimaryCategory(@RequestBody SubjectCategoryDTO subjectCategoryDTO) {
+    public Result<List<SubjectCategoryDTO>> queryCategoryByPrimary(@RequestBody SubjectCategoryDTO subjectCategoryDTO) {
         try {
             if (log.isInfoEnabled()) {
                 log.info("SubjectCategoryController.queryCategoryByPrimary.dto:{}", JSON.toJSONString(subjectCategoryDTO));
@@ -84,5 +95,49 @@
 
     }
 
+    /**
+     * 更新分类
+     * @param subjectCategoryDTO
+     * @return
+     */
+    @PostMapping("/update")
+    public Result<Boolean> update(@RequestBody SubjectCategoryDTO subjectCategoryDTO) {
+        try {
+            if (log.isInfoEnabled()) {
+                log.info("SubjectCategoryController.update.dto:{}", JSON.toJSONString(subjectCategoryDTO));
+            }
+
+            SubjectCategoryBO subjectCategoryBO = SubjectCategoryDTOConverter.INSTANCE.convertDTOToBO(subjectCategoryDTO);
+            Boolean result = subjectCategoryDomainService.update(subjectCategoryBO);
+            return Result.ok(result);
+
+        } catch (Exception e) {
+            log.error("SubjectCategoryController.update.error:{}", e.getMessage(), e);
+            return Result.fail("更新分类失败");
+        }
+    }
+
+    /**
+     * 删除分类
+     * @param subjectCategoryDTO
+     * @return
+     */
+    @PostMapping("/delete")
+    public Result<Boolean> delete(@RequestBody SubjectCategoryDTO subjectCategoryDTO) {
+        try {
+            if (log.isInfoEnabled()) {
+                log.info("SubjectCategoryController.delete.dto:{}", JSON.toJSONString(subjectCategoryDTO));
+            }
+
+            SubjectCategoryBO subjectCategoryBO = SubjectCategoryDTOConverter.INSTANCE.convertDTOToBO(subjectCategoryDTO);
+            Boolean result = subjectCategoryDomainService.delete(subjectCategoryBO);
+            return Result.ok(result);
+
+        } catch (Exception e) {
+            log.error("SubjectCategoryController.update.error:{}", e.getMessage(), e);
+            return Result.fail("删除分类失败");
+        }
+    }
+
 
 }
Index: club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/impl/SubjectCategoryServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.infra.basic.service.impl;\r\n\r\nimport com.alibaba.fastjson.JSON;\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\nimport edu.cugb.subject.infra.basic.mapper.SubjectCategoryDao;\r\nimport edu.cugb.subject.infra.basic.service.SubjectCategoryService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n/**\r\n * 题目分类(SubjectCategory)表服务实现类\r\n *\r\n * @author makejava\r\n * @since 2024-10-16 11:04:26\r\n */\r\n@Service(\"subjectCategoryService\")\r\n@Slf4j\r\npublic class SubjectCategoryServiceImpl implements SubjectCategoryService {\r\n    @Resource\r\n    private SubjectCategoryDao subjectCategoryDao;\r\n\r\n    /**\r\n     * 通过ID查询单条数据\r\n     *\r\n     * @param id 主键\r\n     * @return 实例对象\r\n     */\r\n    @Override\r\n    public SubjectCategory queryById(Long id) {\r\n        return this.subjectCategoryDao.queryById(id);\r\n    }\r\n\r\n\r\n    /**\r\n     * 新增数据\r\n     *\r\n     * @param subjectCategory 实例对象\r\n     * @return 实例对象\r\n     */\r\n    @Override\r\n    public SubjectCategory insert(SubjectCategory subjectCategory) {\r\n        if (log.isInfoEnabled()) {\r\n            log.info(\"SubjectCategoryController.add.subjectCategory:{}\", JSON.toJSONString(subjectCategory));\r\n        }\r\n        this.subjectCategoryDao.insert(subjectCategory);\r\n        return subjectCategory;\r\n    }\r\n\r\n    /**\r\n     * 修改数据\r\n     *\r\n     * @param subjectCategory 实例对象\r\n     * @return 实例对象\r\n     */\r\n    @Override\r\n    public SubjectCategory update(SubjectCategory subjectCategory) {\r\n        this.subjectCategoryDao.update(subjectCategory);\r\n        return this.queryById(subjectCategory.getId());\r\n    }\r\n\r\n    /**\r\n     * 通过主键删除数据\r\n     *\r\n     * @param id 主键\r\n     * @return 是否成功\r\n     */\r\n    @Override\r\n    public boolean deleteById(Long id) {\r\n        return this.subjectCategoryDao.deleteById(id) > 0;\r\n    }\r\n\r\n    @Override\r\n    public List<SubjectCategory> queryCategory(SubjectCategory subjectCategory) {\r\n        return this.subjectCategoryDao.queryCategory(subjectCategory);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/impl/SubjectCategoryServiceImpl.java b/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/impl/SubjectCategoryServiceImpl.java
--- a/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/impl/SubjectCategoryServiceImpl.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/impl/SubjectCategoryServiceImpl.java	(date 1729678433408)
@@ -56,9 +56,8 @@
      * @return 实例对象
      */
     @Override
-    public SubjectCategory update(SubjectCategory subjectCategory) {
-        this.subjectCategoryDao.update(subjectCategory);
-        return this.queryById(subjectCategory.getId());
+    public int update(SubjectCategory subjectCategory) {
+        return this.subjectCategoryDao.update(subjectCategory);
     }
 
     /**
@@ -76,4 +75,9 @@
     public List<SubjectCategory> queryCategory(SubjectCategory subjectCategory) {
         return this.subjectCategoryDao.queryCategory(subjectCategory);
     }
+
+    @Override
+    public int delete(SubjectCategory subjectCategory) {
+        return this.subjectCategoryDao.delete(subjectCategory);
+    }
 }
Index: club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/impl/SubjectCategoryDomainServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.domain.service.impl;\r\n\r\nimport com.alibaba.fastjson.JSON;\r\nimport edu.cugb.subject.domain.convert.SubjectCategoryConverter;\r\nimport edu.cugb.subject.domain.entity.SubjectCategoryBO;\r\nimport edu.cugb.subject.domain.service.SubjectCategoryDomainService;\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\nimport edu.cugb.subject.infra.basic.service.SubjectCategoryService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.annotation.Resource;\r\nimport java.util.List;\r\n\r\n/**\r\n * @Author pengjia\r\n * @Data 2024/10/17 14:39\r\n * @Description:\r\n */\r\n@Service\r\n@Slf4j\r\npublic class SubjectCategoryDomainServiceImpl implements SubjectCategoryDomainService {\r\n    @Resource\r\n    private SubjectCategoryService subjectCategoryService;\r\n\r\n    @Override\r\n    public void add(SubjectCategoryBO subjectCategoryBO) {\r\n        if (log.isInfoEnabled()) {\r\n            log.info(\"SubjectCategoryController.add.bo:{}\", JSON.toJSONString(subjectCategoryBO));\r\n        }\r\n        SubjectCategory subjectCategory = SubjectCategoryConverter.INSTANCE\r\n                .convertBOToCategory(subjectCategoryBO);\r\n        subjectCategoryService.insert(subjectCategory);\r\n\r\n    }\r\n\r\n    @Override\r\n    public List<SubjectCategoryBO> queryCategory(SubjectCategoryBO subjectCategoryBO) {\r\n        SubjectCategory subjectCategory = SubjectCategoryConverter.INSTANCE\r\n                .convertBOToCategory(subjectCategoryBO);\r\n\r\n        List<SubjectCategory> subjectCategoryList = subjectCategoryService.queryCategory(subjectCategory);\r\n\r\n        List<SubjectCategoryBO> boList = SubjectCategoryConverter.INSTANCE\r\n                .convertCategoryToBO(subjectCategoryList);\r\n\r\n        if (log.isInfoEnabled()) {\r\n            log.info(\"SubjectCategoryController.queryPrimaryCategory.boList:{}\",\r\n                    JSON.toJSONString(boList));\r\n        }\r\n        return boList;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/impl/SubjectCategoryDomainServiceImpl.java b/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/impl/SubjectCategoryDomainServiceImpl.java
--- a/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/impl/SubjectCategoryDomainServiceImpl.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/impl/SubjectCategoryDomainServiceImpl.java	(date 1729691235095)
@@ -1,6 +1,9 @@
 package edu.cugb.subject.domain.service.impl;
 
 import com.alibaba.fastjson.JSON;
+import com.sun.org.apache.xpath.internal.operations.Bool;
+import edu.cugb.subject.common.enums.CategoryTypeEnum;
+import edu.cugb.subject.common.enums.IsDeletedFlagEnum;
 import edu.cugb.subject.domain.convert.SubjectCategoryConverter;
 import edu.cugb.subject.domain.entity.SubjectCategoryBO;
 import edu.cugb.subject.domain.service.SubjectCategoryDomainService;
@@ -23,6 +26,10 @@
     @Resource
     private SubjectCategoryService subjectCategoryService;
 
+    /**
+     * 新增分类
+     * @param subjectCategoryBO
+     */
     @Override
     public void add(SubjectCategoryBO subjectCategoryBO) {
         if (log.isInfoEnabled()) {
@@ -30,14 +37,21 @@
         }
         SubjectCategory subjectCategory = SubjectCategoryConverter.INSTANCE
                 .convertBOToCategory(subjectCategoryBO);
+        subjectCategory.setIsDeleted(IsDeletedFlagEnum.Un_DELETED.getCode());
         subjectCategoryService.insert(subjectCategory);
 
     }
 
+    /**
+     * 查询分类
+     * @param subjectCategoryBO
+     * @return
+     */
     @Override
     public List<SubjectCategoryBO> queryCategory(SubjectCategoryBO subjectCategoryBO) {
         SubjectCategory subjectCategory = SubjectCategoryConverter.INSTANCE
                 .convertBOToCategory(subjectCategoryBO);
+        subjectCategory.setIsDeleted(IsDeletedFlagEnum.Un_DELETED.getCode());
 
         List<SubjectCategory> subjectCategoryList = subjectCategoryService.queryCategory(subjectCategory);
 
@@ -50,4 +64,33 @@
         }
         return boList;
     }
+
+    /**
+     * 更新分类
+     * @param subjectCategoryBO
+     * @return
+     */
+    @Override
+    public Boolean update(SubjectCategoryBO subjectCategoryBO) {
+        SubjectCategory subjectCategory = SubjectCategoryConverter.INSTANCE
+                .convertBOToCategory(subjectCategoryBO);
+        int count = subjectCategoryService.update(subjectCategory);
+        return count > 0;
+    }
+
+    /**
+     * 删除分类
+     *
+     * @param subjectCategoryBO
+     * @return
+     */
+    @Override
+    public Boolean delete(SubjectCategoryBO subjectCategoryBO) {
+        SubjectCategory subjectCategory = SubjectCategoryConverter.INSTANCE
+                .convertBOToCategory(subjectCategoryBO);
+        subjectCategory.setIsDeleted(IsDeletedFlagEnum.DELETED.getCode());
+        int delete = subjectCategoryService.delete(subjectCategory);
+        return true;
+
+    }
 }
Index: club-subject/club-infra/src/main/resources/mapper/SubjectCategoryDao.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\r\n<mapper namespace=\"edu.cugb.subject.infra.basic.mapper.SubjectCategoryDao\">\r\n\r\n    <resultMap type=\"edu.cugb.subject.infra.basic.entity.SubjectCategory\" id=\"SubjectCategoryMap\">\r\n        <result property=\"id\" column=\"id\" jdbcType=\"INTEGER\"/>\r\n        <result property=\"categoryName\" column=\"category_name\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"categoryType\" column=\"category_type\" jdbcType=\"INTEGER\"/>\r\n        <result property=\"imageUrl\" column=\"image_url\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"parentId\" column=\"parent_id\" jdbcType=\"INTEGER\"/>\r\n        <result property=\"createdBy\" column=\"created_by\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"createdTime\" column=\"created_time\" jdbcType=\"TIMESTAMP\"/>\r\n        <result property=\"updateBy\" column=\"update_by\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"updateTime\" column=\"update_time\" jdbcType=\"TIMESTAMP\"/>\r\n        <result property=\"isDeleted\" column=\"is_deleted\" jdbcType=\"INTEGER\"/>\r\n    </resultMap>\r\n\r\n    <!--查询单个-->\r\n    <select id=\"queryById\" resultMap=\"SubjectCategoryMap\">\r\n        select id,\r\n               category_name,\r\n               category_type,\r\n               image_url,\r\n               parent_id,\r\n               created_by,\r\n               created_time,\r\n               update_by,\r\n               update_time,\r\n               is_deleted\r\n        from subject_category\r\n        where id = #{id}\r\n    </select>\r\n\r\n    <!--查询指定行数据-->\r\n    <select id=\"queryAllByLimit\" resultMap=\"SubjectCategoryMap\">\r\n        select\r\n        id,\r\n        category_name,\r\n        category_type,\r\n        image_url,\r\n        parent_id,\r\n        created_by,\r\n        created_time,\r\n        update_by,\r\n        update_time,\r\n        is_deleted\r\n        from subject_category\r\n        <where>\r\n            <if test=\"id != null\">\r\n                and id = #{id}\r\n            </if>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                and category_name = #{categoryName}\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                and category_type = #{categoryType}\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                and image_url = #{imageUrl}\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                and parent_id = #{parentId}\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                and created_by = #{createdBy}\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                and created_time = #{createdTime}\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                and update_by = #{updateBy}\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                and update_time = #{updateTime}\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                and is_deleted = #{isDeleted}\r\n            </if>\r\n        </where>\r\n        limit #{pageable.offset}, #{pageable.pageSize}\r\n    </select>\r\n\r\n    <!--统计总行数-->\r\n    <select id=\"count\" resultType=\"java.lang.Long\">\r\n        select count(1)\r\n        from subject_category\r\n        <where>\r\n            <if test=\"id != null\">\r\n                and id = #{id}\r\n            </if>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                and category_name = #{categoryName}\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                and category_type = #{categoryType}\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                and image_url = #{imageUrl}\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                and parent_id = #{parentId}\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                and created_by = #{createdBy}\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                and created_time = #{createdTime}\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                and update_by = #{updateBy}\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                and update_time = #{updateTime}\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                and is_deleted = #{isDeleted}\r\n            </if>\r\n        </where>\r\n    </select>\r\n    <select id=\"queryCategory\" resultMap=\"SubjectCategoryMap\">\r\n        select *\r\n        from subject_category\r\n        <where>\r\n            <if test=\"id != null\">\r\n                and id = #{id}\r\n            </if>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                and category_name = #{categoryName}\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                and category_type = #{categoryType}\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                and image_url = #{imageUrl}\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                and parent_id = #{parentId}\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                and created_by = #{createdBy}\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                and created_time = #{createdTime}\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                and update_by = #{updateBy}\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                and update_time = #{updateTime}\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                and is_deleted = #{isDeleted}\r\n            </if>\r\n        </where>\r\n    </select>\r\n\r\n\r\n    <!--新增所有列-->\r\n    <insert id=\"insert\" keyProperty=\"id\" useGeneratedKeys=\"true\">\r\n        insert into subject_category(category_name, category_type, image_url, parent_id, created_by, created_time,\r\n                                     update_by, update_time, is_deleted)\r\n        values (#{categoryName}, #{categoryType}, #{imageUrl}, #{parentId}, #{createdBy}, #{createdTime}, #{updateBy},\r\n                #{updateTime}, #{isDeleted})\r\n    </insert>\r\n\r\n    <!--插入批量-->\r\n    <insert id=\"insertBatch\" keyProperty=\"id\" useGeneratedKeys=\"true\">\r\n        insert into\r\n        subject_category(category_name,category_type,image_url,parent_id,created_by,created_time,update_by,update_time,is_deleted)\r\n        values\r\n        <foreach collection=\"entities\" item=\"entity\" separator=\",\">\r\n            (#{entity.categoryName},#{entity.categoryType},#{entity.imageUrl},#{entity.parentId},#{entity.createdBy},#{entity.createdTime},#{entity.updateBy},#{entity.updateTime},#{entity.isDeleted})\r\n        </foreach>\r\n    </insert>\r\n\r\n    <!--新增批量-->\r\n    <insert id=\"insertOrUpdateBatch\" keyProperty=\"id\" useGeneratedKeys=\"true\">\r\n        insert into\r\n        subject_category(category_name,category_type,image_url,parent_id,created_by,created_time,update_by,update_time,is_deleted)\r\n        values\r\n        <foreach collection=\"entities\" item=\"entity\" separator=\",\">\r\n            (#{entity.categoryName},#{entity.categoryType},#{entity.imageUrl},#{entity.parentId},#{entity.createdBy},#{entity.createdTime},#{entity.updateBy},#{entity.updateTime},#{entity.isDeleted})\r\n        </foreach>\r\n        on duplicate key update\r\n        category_name = values(category_name),\r\n        category_type = values(category_type),\r\n        image_url = values(image_url),\r\n        parent_id= values(parent_id),\r\n        created_by = values(created_by),\r\n        created_time = values(created_time),\r\n        update_by = values(update_by),\r\n        update_time = values(update_time),\r\n        is_deleted = values(is_deleted)\r\n    </insert>\r\n\r\n    <!--通过主键修改数据-->\r\n    <update id=\"update\">\r\n        update subject_category\r\n        <set>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                category_name = #{categoryName},\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                category_type = #{categoryType},\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                image_url = #{imageUrl},\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                parent_id = #{parentId},\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                created_by = #{createdBy},\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                created_time = #{createdTime},\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                update_by = #{updateBy},\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                update_time = #{updateTime},\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                is_deleted = #{isDeleted},\r\n            </if>\r\n        </set>\r\n        where id = #{id}\r\n    </update>\r\n\r\n    <!--通过主键删除-->\r\n    <delete id=\"deleteById\">\r\n        delete\r\n        from subject_category\r\n        where id = #{id}\r\n    </delete>\r\n\r\n</mapper>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-infra/src/main/resources/mapper/SubjectCategoryDao.xml b/club-subject/club-infra/src/main/resources/mapper/SubjectCategoryDao.xml
--- a/club-subject/club-infra/src/main/resources/mapper/SubjectCategoryDao.xml	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-infra/src/main/resources/mapper/SubjectCategoryDao.xml	(date 1729678711282)
@@ -235,5 +235,11 @@
         where id = #{id}
     </delete>
 
+    <delete id="delete">
+        UPDATE subject_category
+        set is_deleted = 1
+        where id = #{id}
+    </delete>
+
 </mapper>
 
Index: club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/CategoryTypeEnum.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/CategoryTypeEnum.java b/club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/CategoryTypeEnum.java
new file mode 100644
--- /dev/null	(date 1729690817513)
+++ b/club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/CategoryTypeEnum.java	(date 1729690817513)
@@ -0,0 +1,25 @@
+package edu.cugb.subject.common.enums;
+
+import lombok.Getter;
+
+/**
+ * @Author pengjia
+ * @Data 2024/10/23 17:20
+ * @Description: 分类类型枚举
+ */
+@Getter
+public enum CategoryTypeEnum {
+
+    PRIMARY(1,"岗位大类"),
+    SECOND(2,"二级分类");
+
+    public int code;
+
+    public String desc;
+
+
+    CategoryTypeEnum(int code, String desc) {
+        this.code = code;
+        this.desc = desc;
+    }
+}
Index: club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/SubjectCategoryDomainService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.domain.service;\r\n\r\nimport edu.cugb.subject.domain.entity.SubjectCategoryBO;\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\n\r\nimport java.util.List;\r\n\r\n/**\r\n * @Author pengjia\r\n * @Data 2024/10/17 12:43\r\n * @Description:\r\n */\r\npublic interface SubjectCategoryDomainService {\r\n\r\n    void add(SubjectCategoryBO subjectCategoryBO);\r\n\r\n    /**\r\n     * 查询岗位分类\r\n     *\r\n     * @param subjectCategoryBO\r\n     * @return\r\n     */\r\n    List<SubjectCategoryBO> queryCategory(SubjectCategoryBO subjectCategoryBO);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/SubjectCategoryDomainService.java b/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/SubjectCategoryDomainService.java
--- a/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/SubjectCategoryDomainService.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-domain/src/main/java/edu/cugb/subject/domain/service/SubjectCategoryDomainService.java	(date 1729677424901)
@@ -1,7 +1,6 @@
 package edu.cugb.subject.domain.service;
 
 import edu.cugb.subject.domain.entity.SubjectCategoryBO;
-import edu.cugb.subject.infra.basic.entity.SubjectCategory;
 
 import java.util.List;
 
@@ -21,4 +20,19 @@
      * @return
      */
     List<SubjectCategoryBO> queryCategory(SubjectCategoryBO subjectCategoryBO);
+
+    /**
+     * 更新分类
+     * @param subjectCategoryBO
+     * @return
+     */
+    Boolean update(SubjectCategoryBO subjectCategoryBO);
+
+    /**
+     * 删除分类
+     *
+     * @param subjectCategoryBO
+     * @return
+     */
+    Boolean delete(SubjectCategoryBO subjectCategoryBO);
 }
Index: club-subject/club-infra/target/classes/mapper/SubjectCategoryDao.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\r\n<mapper namespace=\"edu.cugb.subject.infra.basic.mapper.SubjectCategoryDao\">\r\n\r\n    <resultMap type=\"edu.cugb.subject.infra.basic.entity.SubjectCategory\" id=\"SubjectCategoryMap\">\r\n        <result property=\"id\" column=\"id\" jdbcType=\"INTEGER\"/>\r\n        <result property=\"categoryName\" column=\"category_name\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"categoryType\" column=\"category_type\" jdbcType=\"INTEGER\"/>\r\n        <result property=\"imageUrl\" column=\"image_url\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"parentId\" column=\"parent_id\" jdbcType=\"INTEGER\"/>\r\n        <result property=\"createdBy\" column=\"created_by\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"createdTime\" column=\"created_time\" jdbcType=\"TIMESTAMP\"/>\r\n        <result property=\"updateBy\" column=\"update_by\" jdbcType=\"VARCHAR\"/>\r\n        <result property=\"updateTime\" column=\"update_time\" jdbcType=\"TIMESTAMP\"/>\r\n        <result property=\"isDeleted\" column=\"is_deleted\" jdbcType=\"INTEGER\"/>\r\n    </resultMap>\r\n\r\n    <!--查询单个-->\r\n    <select id=\"queryById\" resultMap=\"SubjectCategoryMap\">\r\n        select id,\r\n               category_name,\r\n               category_type,\r\n               image_url,\r\n               parent_id,\r\n               created_by,\r\n               created_time,\r\n               update_by,\r\n               update_time,\r\n               is_deleted\r\n        from subject_category\r\n        where id = #{id}\r\n    </select>\r\n\r\n    <!--查询指定行数据-->\r\n    <select id=\"queryAllByLimit\" resultMap=\"SubjectCategoryMap\">\r\n        select\r\n        id,\r\n        category_name,\r\n        category_type,\r\n        image_url,\r\n        parent_id,\r\n        created_by,\r\n        created_time,\r\n        update_by,\r\n        update_time,\r\n        is_deleted\r\n        from subject_category\r\n        <where>\r\n            <if test=\"id != null\">\r\n                and id = #{id}\r\n            </if>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                and category_name = #{categoryName}\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                and category_type = #{categoryType}\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                and image_url = #{imageUrl}\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                and parent_id = #{parentId}\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                and created_by = #{createdBy}\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                and created_time = #{createdTime}\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                and update_by = #{updateBy}\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                and update_time = #{updateTime}\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                and is_deleted = #{isDeleted}\r\n            </if>\r\n        </where>\r\n        limit #{pageable.offset}, #{pageable.pageSize}\r\n    </select>\r\n\r\n    <!--统计总行数-->\r\n    <select id=\"count\" resultType=\"java.lang.Long\">\r\n        select count(1)\r\n        from subject_category\r\n        <where>\r\n            <if test=\"id != null\">\r\n                and id = #{id}\r\n            </if>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                and category_name = #{categoryName}\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                and category_type = #{categoryType}\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                and image_url = #{imageUrl}\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                and parent_id = #{parentId}\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                and created_by = #{createdBy}\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                and created_time = #{createdTime}\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                and update_by = #{updateBy}\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                and update_time = #{updateTime}\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                and is_deleted = #{isDeleted}\r\n            </if>\r\n        </where>\r\n    </select>\r\n    <select id=\"queryCategory\" resultMap=\"SubjectCategoryMap\">\r\n        select *\r\n        from subject_category\r\n        <where>\r\n            <if test=\"id != null\">\r\n                and id = #{id}\r\n            </if>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                and category_name = #{categoryName}\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                and category_type = #{categoryType}\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                and image_url = #{imageUrl}\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                and parent_id = #{parentId}\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                and created_by = #{createdBy}\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                and created_time = #{createdTime}\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                and update_by = #{updateBy}\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                and update_time = #{updateTime}\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                and is_deleted = #{isDeleted}\r\n            </if>\r\n        </where>\r\n    </select>\r\n\r\n\r\n    <!--新增所有列-->\r\n    <insert id=\"insert\" keyProperty=\"id\" useGeneratedKeys=\"true\">\r\n        insert into subject_category(category_name, category_type, image_url, parent_id, created_by, created_time,\r\n                                     update_by, update_time, is_deleted)\r\n        values (#{categoryName}, #{categoryType}, #{imageUrl}, #{parentId}, #{createdBy}, #{createdTime}, #{updateBy},\r\n                #{updateTime}, #{isDeleted})\r\n    </insert>\r\n\r\n    <!--插入批量-->\r\n    <insert id=\"insertBatch\" keyProperty=\"id\" useGeneratedKeys=\"true\">\r\n        insert into\r\n        subject_category(category_name,category_type,image_url,parent_id,created_by,created_time,update_by,update_time,is_deleted)\r\n        values\r\n        <foreach collection=\"entities\" item=\"entity\" separator=\",\">\r\n            (#{entity.categoryName},#{entity.categoryType},#{entity.imageUrl},#{entity.parentId},#{entity.createdBy},#{entity.createdTime},#{entity.updateBy},#{entity.updateTime},#{entity.isDeleted})\r\n        </foreach>\r\n    </insert>\r\n\r\n    <!--新增批量-->\r\n    <insert id=\"insertOrUpdateBatch\" keyProperty=\"id\" useGeneratedKeys=\"true\">\r\n        insert into\r\n        subject_category(category_name,category_type,image_url,parent_id,created_by,created_time,update_by,update_time,is_deleted)\r\n        values\r\n        <foreach collection=\"entities\" item=\"entity\" separator=\",\">\r\n            (#{entity.categoryName},#{entity.categoryType},#{entity.imageUrl},#{entity.parentId},#{entity.createdBy},#{entity.createdTime},#{entity.updateBy},#{entity.updateTime},#{entity.isDeleted})\r\n        </foreach>\r\n        on duplicate key update\r\n        category_name = values(category_name),\r\n        category_type = values(category_type),\r\n        image_url = values(image_url),\r\n        parent_id= values(parent_id),\r\n        created_by = values(created_by),\r\n        created_time = values(created_time),\r\n        update_by = values(update_by),\r\n        update_time = values(update_time),\r\n        is_deleted = values(is_deleted)\r\n    </insert>\r\n\r\n    <!--通过主键修改数据-->\r\n    <update id=\"update\">\r\n        update subject_category\r\n        <set>\r\n            <if test=\"categoryName != null and categoryName != ''\">\r\n                category_name = #{categoryName},\r\n            </if>\r\n            <if test=\"categoryType != null\">\r\n                category_type = #{categoryType},\r\n            </if>\r\n            <if test=\"imageUrl != null and imageUrl != ''\">\r\n                image_url = #{imageUrl},\r\n            </if>\r\n            <if test=\"parentId != null\">\r\n                parent_id = #{parentId},\r\n            </if>\r\n            <if test=\"createdBy != null and createdBy != ''\">\r\n                created_by = #{createdBy},\r\n            </if>\r\n            <if test=\"createdTime != null\">\r\n                created_time = #{createdTime},\r\n            </if>\r\n            <if test=\"updateBy != null and updateBy != ''\">\r\n                update_by = #{updateBy},\r\n            </if>\r\n            <if test=\"updateTime != null\">\r\n                update_time = #{updateTime},\r\n            </if>\r\n            <if test=\"isDeleted != null\">\r\n                is_deleted = #{isDeleted},\r\n            </if>\r\n        </set>\r\n        where id = #{id}\r\n    </update>\r\n\r\n    <!--通过主键删除-->\r\n    <delete id=\"deleteById\">\r\n        delete\r\n        from subject_category\r\n        where id = #{id}\r\n    </delete>\r\n\r\n</mapper>\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-infra/target/classes/mapper/SubjectCategoryDao.xml b/club-subject/club-infra/target/classes/mapper/SubjectCategoryDao.xml
--- a/club-subject/club-infra/target/classes/mapper/SubjectCategoryDao.xml	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-infra/target/classes/mapper/SubjectCategoryDao.xml	(date 1729678711282)
@@ -235,5 +235,11 @@
         where id = #{id}
     </delete>
 
+    <delete id="delete">
+        UPDATE subject_category
+        set is_deleted = 1
+        where id = #{id}
+    </delete>
+
 </mapper>
 
Index: club-subject/club-common/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n    <parent>\r\n        <groupId>edu.cugb</groupId>\r\n        <artifactId>club-subject</artifactId>\r\n        <version>1.0-SNAPSHOT</version>\r\n    </parent>\r\n\r\n    <artifactId>club-common</artifactId>\r\n\r\n    <properties>\r\n        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\r\n        <maven.compiler.source>1.8</maven.compiler.source>\r\n        <maven.compiler.target>1.8</maven.compiler.target>\r\n        <maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>\r\n    </properties>\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>org.projectlombok</groupId>\r\n            <artifactId>lombok</artifactId>\r\n            <version>1.18.30</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.mapstruct</groupId>\r\n            <artifactId>mapstruct</artifactId>\r\n            <version>1.4.2.Final</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.mapstruct</groupId>\r\n            <artifactId>mapstruct-processor</artifactId>\r\n            <version>1.4.2.Final</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-log4j2</artifactId>\r\n            <version>2.4.2</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.alibaba</groupId>\r\n            <artifactId>fastjson</artifactId>\r\n            <version>1.2.24</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.google.guava</groupId>\r\n            <artifactId>guava</artifactId>\r\n            <version>19.0</version>\r\n        </dependency>\r\n\r\n\r\n    </dependencies>\r\n\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-common/pom.xml b/club-subject/club-common/pom.xml
--- a/club-subject/club-common/pom.xml	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-common/pom.xml	(date 1729690144425)
@@ -49,6 +49,11 @@
             <artifactId>guava</artifactId>
             <version>19.0</version>
         </dependency>
+        <dependency>
+            <groupId>org.apache.commons</groupId>
+            <artifactId>commons-lang3</artifactId>
+            <version>3.11</version>
+        </dependency>
 
 
     </dependencies>
Index: club-subject/club-application/club-application-controller/target/generated-sources/annotations/edu/cugb/subject/application/convert/SubjectCategoryDTOConverterImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.application.convert;\r\n\r\nimport edu.cugb.subject.application.dto.SubjectCategoryDTO;\r\nimport edu.cugb.subject.domain.entity.SubjectCategoryBO;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.annotation.Generated;\r\n\r\n@Generated(\r\n    value = \"org.mapstruct.ap.MappingProcessor\",\r\n    date = \"2024-10-23T16:07:24+0800\",\r\n    comments = \"version: 1.4.2.Final, compiler: javac, environment: Java 1.8.0_152 (Oracle Corporation)\"\r\n)\r\npublic class SubjectCategoryDTOConverterImpl implements SubjectCategoryDTOConverter {\r\n\r\n    @Override\r\n    public SubjectCategoryBO convertBOToCategory(SubjectCategoryDTO subjectCategoryDTO) {\r\n        if ( subjectCategoryDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        SubjectCategoryBO subjectCategoryBO = new SubjectCategoryBO();\r\n\r\n        subjectCategoryBO.setId( subjectCategoryDTO.getId() );\r\n        subjectCategoryBO.setCategoryName( subjectCategoryDTO.getCategoryName() );\r\n        subjectCategoryBO.setCategoryType( subjectCategoryDTO.getCategoryType() );\r\n        subjectCategoryBO.setImageUrl( subjectCategoryDTO.getImageUrl() );\r\n        subjectCategoryBO.setParentId( subjectCategoryDTO.getParentId() );\r\n        subjectCategoryBO.setIsDeleted( subjectCategoryDTO.getIsDeleted() );\r\n\r\n        return subjectCategoryBO;\r\n    }\r\n\r\n    @Override\r\n    public List<SubjectCategoryDTO> convertBOToDTOList(List<SubjectCategoryBO> subjectCategoryBO) {\r\n        if ( subjectCategoryBO == null ) {\r\n            return null;\r\n        }\r\n\r\n        List<SubjectCategoryDTO> list = new ArrayList<SubjectCategoryDTO>( subjectCategoryBO.size() );\r\n        for ( SubjectCategoryBO subjectCategoryBO1 : subjectCategoryBO ) {\r\n            list.add( subjectCategoryBOToSubjectCategoryDTO( subjectCategoryBO1 ) );\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n    @Override\r\n    public SubjectCategoryBO convertDTOToBO(SubjectCategoryDTO subjectCategoryDTO) {\r\n        if ( subjectCategoryDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        SubjectCategoryBO subjectCategoryBO = new SubjectCategoryBO();\r\n\r\n        subjectCategoryBO.setId( subjectCategoryDTO.getId() );\r\n        subjectCategoryBO.setCategoryName( subjectCategoryDTO.getCategoryName() );\r\n        subjectCategoryBO.setCategoryType( subjectCategoryDTO.getCategoryType() );\r\n        subjectCategoryBO.setImageUrl( subjectCategoryDTO.getImageUrl() );\r\n        subjectCategoryBO.setParentId( subjectCategoryDTO.getParentId() );\r\n        subjectCategoryBO.setIsDeleted( subjectCategoryDTO.getIsDeleted() );\r\n\r\n        return subjectCategoryBO;\r\n    }\r\n\r\n    protected SubjectCategoryDTO subjectCategoryBOToSubjectCategoryDTO(SubjectCategoryBO subjectCategoryBO) {\r\n        if ( subjectCategoryBO == null ) {\r\n            return null;\r\n        }\r\n\r\n        SubjectCategoryDTO subjectCategoryDTO = new SubjectCategoryDTO();\r\n\r\n        subjectCategoryDTO.setId( subjectCategoryBO.getId() );\r\n        subjectCategoryDTO.setCategoryName( subjectCategoryBO.getCategoryName() );\r\n        subjectCategoryDTO.setCategoryType( subjectCategoryBO.getCategoryType() );\r\n        subjectCategoryDTO.setImageUrl( subjectCategoryBO.getImageUrl() );\r\n        subjectCategoryDTO.setParentId( subjectCategoryBO.getParentId() );\r\n        subjectCategoryDTO.setIsDeleted( subjectCategoryBO.getIsDeleted() );\r\n\r\n        return subjectCategoryDTO;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-application/club-application-controller/target/generated-sources/annotations/edu/cugb/subject/application/convert/SubjectCategoryDTOConverterImpl.java b/club-subject/club-application/club-application-controller/target/generated-sources/annotations/edu/cugb/subject/application/convert/SubjectCategoryDTOConverterImpl.java
--- a/club-subject/club-application/club-application-controller/target/generated-sources/annotations/edu/cugb/subject/application/convert/SubjectCategoryDTOConverterImpl.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-application/club-application-controller/target/generated-sources/annotations/edu/cugb/subject/application/convert/SubjectCategoryDTOConverterImpl.java	(date 1729691282563)
@@ -8,7 +8,7 @@
 
 @Generated(
     value = "org.mapstruct.ap.MappingProcessor",
-    date = "2024-10-23T16:07:24+0800",
+    date = "2024-10-23T21:48:02+0800",
     comments = "version: 1.4.2.Final, compiler: javac, environment: Java 1.8.0_152 (Oracle Corporation)"
 )
 public class SubjectCategoryDTOConverterImpl implements SubjectCategoryDTOConverter {
Index: club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/IsDeletedFlagEnum.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/IsDeletedFlagEnum.java b/club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/IsDeletedFlagEnum.java
new file mode 100644
--- /dev/null	(date 1729676808942)
+++ b/club-subject/club-common/src/main/java/edu/cugb/subject/common/enums/IsDeletedFlagEnum.java	(date 1729676808942)
@@ -0,0 +1,25 @@
+package edu.cugb.subject.common.enums;
+
+import lombok.Getter;
+
+/**
+ * @Author pengjia
+ * @Data 2024/10/23 17:20
+ * @Description: 删除状态枚举
+ */
+@Getter
+public enum IsDeletedFlagEnum {
+
+    DELETED(1,"已删除"),
+    Un_DELETED(0,"未删除");
+
+    public int code;
+
+    public String desc;
+
+
+    IsDeletedFlagEnum(int code, String desc) {
+        this.code = code;
+        this.desc = desc;
+    }
+}
Index: club-subject/club-domain/target/generated-sources/annotations/edu/cugb/subject/domain/convert/SubjectCategoryConverterImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.domain.convert;\r\n\r\nimport edu.cugb.subject.domain.entity.SubjectCategoryBO;\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.annotation.Generated;\r\n\r\n@Generated(\r\n    value = \"org.mapstruct.ap.MappingProcessor\",\r\n    date = \"2024-10-22T13:41:13+0800\",\r\n    comments = \"version: 1.4.2.Final, compiler: javac, environment: Java 1.8.0_152 (Oracle Corporation)\"\r\n)\r\npublic class SubjectCategoryConverterImpl implements SubjectCategoryConverter {\r\n\r\n    @Override\r\n    public SubjectCategory convertBOToCategory(SubjectCategoryBO subjectCategoryBO) {\r\n        if ( subjectCategoryBO == null ) {\r\n            return null;\r\n        }\r\n\r\n        SubjectCategory subjectCategory = new SubjectCategory();\r\n\r\n        subjectCategory.setId( subjectCategoryBO.getId() );\r\n        subjectCategory.setCategoryName( subjectCategoryBO.getCategoryName() );\r\n        subjectCategory.setCategoryType( subjectCategoryBO.getCategoryType() );\r\n        subjectCategory.setImageUrl( subjectCategoryBO.getImageUrl() );\r\n        subjectCategory.setParentId( subjectCategoryBO.getParentId() );\r\n        subjectCategory.setIsDeleted( subjectCategoryBO.getIsDeleted() );\r\n\r\n        return subjectCategory;\r\n    }\r\n\r\n    @Override\r\n    public List<SubjectCategoryBO> convertCategoryToBO(List<SubjectCategory> subjectCategoryList) {\r\n        if ( subjectCategoryList == null ) {\r\n            return null;\r\n        }\r\n\r\n        List<SubjectCategoryBO> list = new ArrayList<SubjectCategoryBO>( subjectCategoryList.size() );\r\n        for ( SubjectCategory subjectCategory : subjectCategoryList ) {\r\n            list.add( subjectCategoryToSubjectCategoryBO( subjectCategory ) );\r\n        }\r\n\r\n        return list;\r\n    }\r\n\r\n    protected SubjectCategoryBO subjectCategoryToSubjectCategoryBO(SubjectCategory subjectCategory) {\r\n        if ( subjectCategory == null ) {\r\n            return null;\r\n        }\r\n\r\n        SubjectCategoryBO subjectCategoryBO = new SubjectCategoryBO();\r\n\r\n        subjectCategoryBO.setId( subjectCategory.getId() );\r\n        subjectCategoryBO.setCategoryName( subjectCategory.getCategoryName() );\r\n        subjectCategoryBO.setCategoryType( subjectCategory.getCategoryType() );\r\n        subjectCategoryBO.setImageUrl( subjectCategory.getImageUrl() );\r\n        subjectCategoryBO.setParentId( subjectCategory.getParentId() );\r\n        subjectCategoryBO.setIsDeleted( subjectCategory.getIsDeleted() );\r\n\r\n        return subjectCategoryBO;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-domain/target/generated-sources/annotations/edu/cugb/subject/domain/convert/SubjectCategoryConverterImpl.java b/club-subject/club-domain/target/generated-sources/annotations/edu/cugb/subject/domain/convert/SubjectCategoryConverterImpl.java
--- a/club-subject/club-domain/target/generated-sources/annotations/edu/cugb/subject/domain/convert/SubjectCategoryConverterImpl.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-domain/target/generated-sources/annotations/edu/cugb/subject/domain/convert/SubjectCategoryConverterImpl.java	(date 1729691279774)
@@ -8,7 +8,7 @@
 
 @Generated(
     value = "org.mapstruct.ap.MappingProcessor",
-    date = "2024-10-22T13:41:13+0800",
+    date = "2024-10-23T21:47:59+0800",
     comments = "version: 1.4.2.Final, compiler: javac, environment: Java 1.8.0_152 (Oracle Corporation)"
 )
 public class SubjectCategoryConverterImpl implements SubjectCategoryConverter {
Index: club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/SubjectCategoryService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package edu.cugb.subject.infra.basic.service;\r\n\r\nimport edu.cugb.subject.infra.basic.entity.SubjectCategory;\r\n\r\nimport java.util.List;\r\n\r\n\r\n/**\r\n * 题目分类(SubjectCategory)表服务接口\r\n *\r\n * @author makejava\r\n * @since 2024-10-16 11:04:25\r\n */\r\npublic interface SubjectCategoryService {\r\n\r\n    /**\r\n     * 通过ID查询单条数据\r\n     *\r\n     * @param id 主键\r\n     * @return 实例对象\r\n     */\r\n    SubjectCategory queryById(Long id);\r\n\r\n\r\n    /**\r\n     * 新增数据\r\n     *\r\n     * @param subjectCategory 实例对象\r\n     * @return 实例对象\r\n     */\r\n    SubjectCategory insert(SubjectCategory subjectCategory);\r\n\r\n    /**\r\n     * 修改数据\r\n     *\r\n     * @param subjectCategory 实例对象\r\n     * @return 实例对象\r\n     */\r\n    SubjectCategory update(SubjectCategory subjectCategory);\r\n\r\n    /**\r\n     * 通过主键删除数据\r\n     *\r\n     * @param id 主键\r\n     * @return 是否成功\r\n     */\r\n    boolean deleteById(Long id);\r\n\r\n    /**\r\n     * 查询岗位大类\r\n     *\r\n     * @return\r\n     */\r\n    List<SubjectCategory> queryCategory(SubjectCategory subjectCategory);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/SubjectCategoryService.java b/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/SubjectCategoryService.java
--- a/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/SubjectCategoryService.java	(revision 6ed501970d3a9b73bd57fd4bda9e07488e24ae98)
+++ b/club-subject/club-infra/src/main/java/edu/cugb/subject/infra/basic/service/SubjectCategoryService.java	(date 1729678433418)
@@ -36,7 +36,7 @@
      * @param subjectCategory 实例对象
      * @return 实例对象
      */
-    SubjectCategory update(SubjectCategory subjectCategory);
+    int update(SubjectCategory subjectCategory);
 
     /**
      * 通过主键删除数据
@@ -52,4 +52,6 @@
      * @return
      */
     List<SubjectCategory> queryCategory(SubjectCategory subjectCategory);
+
+    int delete(SubjectCategory subjectCategory);
 }
